<p>
This is a sample API for experimenting with the JSON API format. It allows you to create an account so you can modify your own data.
</p>

<p>
<%= link_to 'Sign up', new_user_registration_path %> for a free account. Then you can use the same username and password to log in to the API.
</p>

<h2>Logging In</h2>

<p>
You authenticate to the API with the OAuth 2 password grant.
</p>

<pre><code class="language-http">POST /oauth/token

grant_type=password
username=you@yourodmain.com
password=yourpassword</code></pre>

<p>
You'll receive back the token to use:
</p>

<pre><code class="language-javascript">{
    "access_token": "b027b3ed38739a1d01c2ac05008f0cb4e7a764acc802e0cfb1e5bf1a4876597c",
    "token_type": "bearer",
    "expires_in": 7200,
    "created_at": 1531855327
}</code></pre>

<h2>Accessing Data</h2>

All your requests should include the following headers:

<pre><code class="language-http">Content-Type=application/vnd.api+json
Authorization=Bearer YOUR_TOKEN</code></pre>

<h3>List Posts</h3>

<pre><code class="language-http">GET /posts</code></pre>

Response:

<pre><code class="language-http">200 OK</code></pre>

<pre><code class="language-javascript">{
    "data": [
        {
            "id": "1",
            "type": "posts",
            "links": {
                "self": "https://sandboxapi.codingitwrong.com/posts/1"
            },
            "attributes": {
                "title": "Test Post",
                "body": "This is a test!"
            }
        }
    ]
}</code></pre>

<h3>Show a Post</h3>

<pre><code class="language-http">GET /posts/1</code></pre>

Response:

<pre><code class="language-http">200 OK</code></pre>

<pre><code class="language-javascript">{
    "data": {
        "id": "1",
        "type": "posts",
        "links": {
            "self": "https://sandboxapi.codingitwrong.com/posts/1"
        },
        "attributes": {
            "title": "Test Post",
            "body": "This is a test!"
        }
    }
}</code></pre>

<h3>Creating a Post</h3>

Request

<pre><code class="language-http">POST /posts</code></pre>

<pre><code class="language-javascript">{
    "data": {
        "type": "posts",
        "attributes": {
            "title": "Posted Post",
            "body": "This post is posted!"
        }
    }
}</code></pre>

Response

<pre><code class="language-http">201 Created</code></pre>

<pre><code class="language-javascript">{
    "data": {
        "id": "2",
        "type": "posts",
        "links": {
            "self": "https://sandboxapi.codingitwrong.com/posts/2"
        },
        "attributes": {
            "title": "Posted Post",
            "body": "This post is posted!"
        }
    }
}</code></pre>

<h3>Updating a Post</h3>

Request

<pre><code class="language-http">PATCH /posts/1</code></pre>

<pre><code class="language-javascript">{
    "data": {
        "id": "1",
        "type": "posts",
        "attributes": {
            "title": "Updated Post"
        }
    }
}</code></pre>

Response

<pre><code class="language-http">200 OK</code></pre>

<pre><code class="language-javascript">{
    "data": {
        "id": "1",
        "type": "posts",
        "links": {
            "self": "https://sandboxapi.codingitwrong.com/posts/1"
        },
        "attributes": {
            "title": "Updated Post",
            "body": "This is a test!"
        }
    }
}</code></pre>

<h3>Deleting a Post</h3>

Request

<pre><code class="language-http">DELETE /posts/1</code></pre>

Response

<pre><code class="language-http">204 No Content</code></pre>

<h2>Learning More</h2>

<ul>
  <li>Read the <a href="http://jsonapi.org">JSON API spec</a> (it's pretty readable!)</li>
  <li>See <a href="https://jsonapi.org">JSON API client and server implementations</a> for various langauges</li>
</ul>

<h2>About Sandbox API</h2>

<p>
This API is implemented with Ruby on Rails and the <a href="http://jsonapi-resources.com/"><code>jsonapi_resources</code></a> gem. It's one of the easiest ways to create an API!
</p>

<p>
View the <a href="https://github.com/CodingItWrong/sandbox_api">GitHub repo for Sandbox API</a> to download and run it locally, or to contribute.
</p>

<p>
Other gems used:
</p>

<ul>
  <li><a href="http://devise.plataformatec.com.br/">Devise</a> for web interface authentication</li>
  <li><a href="https://github.com/doorkeeper-gem/doorkeeper">Doorkeeper</a> for OAuth 2 authentication</li>
</ul>
